# ProShot 业务流程说明

## 🎯 核心理念

**"首页即工作台，先体验后注册"** - 让用户在首页就能直接体验产品价值，降低使用门槛，提高转化率。

---

## 📊 用户流程

### 1️⃣ 访问首页

用户访问网站后直接进入工作台界面：

- ✅ 无需登录即可上传图片
- ✅ 无需登录即可配置参数
- ✅ 点击生成时才要求注册

### 2️⃣ 配置生成参数

用户可以自由：

- ✅ 选择生成模式（服装上身 / 物品场景）
- ✅ 上传商品图片（拖拽或点击）
- ✅ 选择场景风格（白底、街拍、咖啡馆等）

### 3️⃣ 点击生成

```
点击"一键上镜"
    ↓
检测登录状态
    ↓
未登录 → 弹出注册弹窗 → 注册/登录
    ↓
已登录 → 上传图片到 Storage → 调用 AI API → 展示结果
```

### 4️⃣ 下载高清图

- 预览图：免费
- 下载高清无水印图：消耗 1 积分

---

## 🏗️ 页面结构

```
/                   首页（工作台）
├── 模式切换        服装上身 | 物品场景（预留）
├── 上传区域        拖拽/点击上传
├── 场景选择        6种场景预设
├── 生成按钮        一键上镜
└── 结果展示        预览图 + 下载按钮

/gallery            我的作品
/pricing            积分充值
/about              关于我们
/login              登录
/register           注册
```

---

## 🔄 数据流

```
前端上传图片 → Supabase Storage
                    ↓
前端调用 API → /api/generate/main
                    ↓
后端构建 Prompt → 调用 OpenRouter API
                    ↓
OpenRouter → Gemini 模型生成图片
                    ↓
返回 Base64 图片 → 保存生成记录 → 返回前端展示
```

---

## 💡 关键设计

### 降低门槛

- 首页即工作台，无需跳转
- 配置过程无需登录
- 弹窗注册，无需跳转页面

### 延迟注册

- 访问时不强制注册
- 用户产生兴趣后才弹窗
- 提交生成时是最佳时机

### 价值感知

- 顶部展示技术优势
- 新用户赠送 5 积分
- 预览免费，下载付费

---

## 🚀 未来扩展

### Phase 2: 物品场景生成

- 支持家居、3C 产品
- 更多场景预设
- 自定义场景描述

### Phase 3: 高级功能

- 批量生成
- 自定义模特
- API 开放
- 企业版本
