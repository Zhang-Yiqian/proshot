# ProShot ä¸Šé•œ - ç”µå•†æ™ºèƒ½å•†æ‹å·¥å…·

<div align="center">
  <h3>è®©å•†å“ä¸€é”®å…¥ç”»</h3>
  <p>å°†æ™®é€šå•†å“å›¾è½¬åŒ–ä¸ºé«˜è´¨é‡çœŸäººæ¨¡ç‰¹è¥é”€å›¾</p>
</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

ProShotï¼ˆä¸Šé•œï¼‰æ˜¯ä¸€æ¬¾é¢å‘ç”µå•†å–å®¶çš„AIé©±åŠ¨å•†æ‹å·¥å…·ï¼Œä¸“ä¸ºæ·˜å®ã€æ‹¼å¤šå¤šã€Shopifyå–å®¶æ‰“é€ ã€‚é€šè¿‡AIæŠ€æœ¯ï¼Œå°†æ™®é€šçš„äººå°å›¾ã€å¹³é“ºå›¾ä½æˆæœ¬è½¬åŒ–ä¸ºä¸“ä¸šçš„çœŸäººæ¨¡ç‰¹è¥é”€å›¾ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ¨ **æ™ºèƒ½ç”Ÿæˆ**ï¼šåŸºäºGemini AIæ¨¡å‹ï¼Œ30ç§’å†…ç”Ÿæˆé«˜è´¨é‡è¥é”€å›¾
- ğŸ”— **Dify å·¥ä½œæµ**ï¼šæ”¯æŒé€šè¿‡Difyå¹³å°ç¼–æ’AIå·¥ä½œæµï¼Œçµæ´»é…ç½®ç”Ÿæˆé€»è¾‘
- ğŸ‘” **å¤šç§é¢„è®¾**ï¼šæ”¯æŒå¤šç§æ¨¡ç‰¹ç±»å‹ï¼ˆäºšæ´²/æ¬§ç¾ï¼Œç”·/å¥³ï¼‰å’Œåœºæ™¯ï¼ˆè¡—æ‹/å±…å®¶/å’–å•¡é¦†ç­‰ï¼‰
- ğŸ’ **é«˜è¿˜åŸåº¦**ï¼šç²¾å‡†ä¿ç•™å•†å“Logoã€ç‰ˆå‹ã€ç»†èŠ‚
- ğŸ’° **ç§¯åˆ†ç³»ç»Ÿ**ï¼šé¢„è§ˆå…è´¹ï¼Œä¸‹è½½ä»…éœ€1ç§¯åˆ†
- ğŸ“± **ç°ä»£UI**ï¼šåŸºäºShadcn/UIæ„å»ºï¼Œç•Œé¢ç¾è§‚ä¸“ä¸š

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 14** (App Router) - Reactæ¡†æ¶
- **Tailwind CSS** - æ ·å¼å¤„ç†
- **Shadcn/UI** - ç»„ä»¶åº“
- **Lucide React** - å›¾æ ‡åº“
- **TypeScript** - ç±»å‹å®‰å…¨

### åç«¯
- **Next.js API Routes** - APIå±‚
- **Supabase** - æ•°æ®åº“ã€è®¤è¯ã€å­˜å‚¨
  - PostgreSQLæ•°æ®åº“
  - Authè®¤è¯ç³»ç»Ÿ
  - Storageæ–‡ä»¶å­˜å‚¨
- **Dify å·¥ä½œæµ** - AI å·¥ä½œæµç¼–æ’ï¼ˆä¸»æ¨ï¼‰
  - Gemini 2.5 Pro (æœé¥°ä¸Šèº«ç”Ÿæˆ)
  - å¯è§†åŒ–é…ç½®æç¤ºè¯å’Œæµç¨‹
- **OpenRouter** - AIæ¨¡å‹è°ƒç”¨ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰
  - gemini-3-pro-image (ä¸»å›¾ç”Ÿæˆ)
  - gemini-2-flash-image (å¥—å›¾æ‰©å±•)

## ğŸ“ é¡¹ç›®ç»“æ„

```
ProShot/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/              # è®¤è¯é¡µé¢ç»„
â”‚   â”‚   â”œâ”€â”€ login/           # ç™»å½•é¡µ
â”‚   â”‚   â””â”€â”€ register/        # æ³¨å†Œé¡µ
â”‚   â”œâ”€â”€ workbench/           # å·¥ä½œå°
â”‚   â”œâ”€â”€ gallery/             # ä½œå“ç”»å»Š
â”‚   â”œâ”€â”€ pricing/             # å®šä»·é¡µé¢
â”‚   â””â”€â”€ api/                 # API Routes
â”‚       â”œâ”€â”€ auth/            # è®¤è¯ç›¸å…³
â”‚       â”œâ”€â”€ generate/        # å›¾ç‰‡ç”Ÿæˆ
â”‚       â”œâ”€â”€ credits/         # ç§¯åˆ†ç®¡ç†
â”‚       â””â”€â”€ generations/     # ç”Ÿæˆè®°å½•
â”œâ”€â”€ components/              # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ui/                  # Shadcn/UIåŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ workbench/           # å·¥ä½œå°ç»„ä»¶
â”‚   â””â”€â”€ common/              # é€šç”¨ç»„ä»¶
â”œâ”€â”€ lib/                     # å·¥å…·åº“
â”‚   â”œâ”€â”€ supabase/            # Supabaseé›†æˆ
â”‚   â”œâ”€â”€ ai/                  # AIæ¥å£å°è£…
â”‚   â”œâ”€â”€ db/                  # æ•°æ®åº“æ“ä½œ
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ site.ts              # ç½‘ç«™é…ç½®
â”‚   â”œâ”€â”€ models.ts            # AIæ¨¡å‹é…ç½®
â”‚   â””â”€â”€ presets.ts           # é¢„è®¾é…ç½®
â”œâ”€â”€ types/                   # TypeScriptç±»å‹
â””â”€â”€ hooks/                   # è‡ªå®šä¹‰Hooks
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Supabaseé…ç½®
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Dify å·¥ä½œæµé…ç½®ï¼ˆæ¨èï¼‰
DIFY_API_KEY=app-your-dify-api-key
DIFY_API_BASE_URL=https://api.dify.ai/v1
DIFY_WORKFLOW_ID=your-workflow-id

# OpenRouter é…ç½®ï¼ˆå¯é€‰ï¼‰
OPENROUTER_API_KEY=sk-or-v1-your-api-key
OPENROUTER_API_BASE_URL=https://openrouter.ai/api/v1

# ç½‘ç«™é…ç½®
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# å¼€å‘æ¨¡å¼ï¼ˆå¯é€‰ï¼‰
NEXT_PUBLIC_MOCK_MODE=true
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼š
- **Dify å·¥ä½œæµ**: æŸ¥çœ‹ [DIFY_WORKFLOW_CONFIG.md](./DIFY_WORKFLOW_CONFIG.md)
- **å®Œæ•´é…ç½®æ–‡æ¡£**: æŸ¥çœ‹ [DIFY_SETUP.md](./DIFY_SETUP.md)

### 3. åˆå§‹åŒ–Supabaseæ•°æ®åº“

åœ¨Supabaseé¡¹ç›®ä¸­æ‰§è¡Œ `supabase/migrations/001_initial_schema.sql` è„šæœ¬

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### profiles è¡¨ï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰
- `id` - ç”¨æˆ·IDï¼ˆå…³è”auth.usersï¼‰
- `credits` - ç§¯åˆ†ä½™é¢
- `is_subscriber` - æ˜¯å¦è®¢é˜…ç”¨æˆ·
- `created_at` / `updated_at` - æ—¶é—´æˆ³

### generations è¡¨ï¼ˆç”Ÿæˆè®°å½•ï¼‰
- `id` - è®°å½•ID
- `user_id` - ç”¨æˆ·ID
- `original_image_url` - åŸå›¾URL
- `generated_image_url` - ç”Ÿæˆå›¾URL
- `prompt_used` - ä½¿ç”¨çš„Prompt
- `style_preset` - é£æ ¼é¢„è®¾
- `status` - çŠ¶æ€ï¼ˆpending/completed/failedï¼‰
- `created_at` / `updated_at` - æ—¶é—´æˆ³

## ğŸ¯ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

1. **ç”¨æˆ·æ³¨å†Œ** â†’ è‡ªåŠ¨åˆ›å»ºProfileï¼Œèµ é€5ç§¯åˆ†
2. **ä¸Šä¼ å•†å“å›¾** â†’ ä¿å­˜åˆ°Supabase Storage
3. **é€‰æ‹©é¢„è®¾** â†’ æ¨¡ç‰¹ç±»å‹ + åœºæ™¯ç±»å‹
4. **ç”Ÿæˆé¢„è§ˆå›¾** â†’ è°ƒç”¨Gemini APIç”Ÿæˆï¼ˆå…è´¹ï¼‰
5. **ä¸‹è½½é«˜æ¸…å›¾** â†’ æ‰£é™¤1ç§¯åˆ†ï¼Œä¸‹è½½æ— æ°´å°å¤§å›¾

## ğŸ”‘ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### AIæ¥å£å±‚
- `lib/ai/dify-client.ts` - Difyå·¥ä½œæµå®¢æˆ·ç«¯ï¼ˆä¸»æ¨ï¼‰
- `lib/ai/gemini-client.ts` - Gemini APIå°è£…ï¼ˆOpenRouterï¼‰
- `lib/ai/prompt-builder.ts` - Promptæ„å»ºå™¨

### æ•°æ®åº“æ“ä½œ
- `lib/db/profiles.ts` - ç”¨æˆ·Profile CRUD
- `lib/db/generations.ts` - ç”Ÿæˆè®°å½• CRUD

### é…ç½®ä¸­å¿ƒ
- `config/presets.ts` - æ¨¡ç‰¹å’Œåœºæ™¯é¢„è®¾
- `config/models.ts` - AIæ¨¡å‹é…ç½®

## ğŸ“ å¼€å‘è§„èŒƒ

- âœ… ä½¿ç”¨TypeScriptç¡®ä¿ç±»å‹å®‰å…¨
- âœ… éµå¾ªNext.js 14 App Routeræœ€ä½³å®è·µ
- âœ… ç»„ä»¶é‡‡ç”¨"use client"æ ‡è®°å®¢æˆ·ç«¯ç»„ä»¶
- âœ… API Routesä½¿ç”¨æœåŠ¡ç«¯Supabaseå®¢æˆ·ç«¯
- âœ… ç»Ÿä¸€ä½¿ç”¨Shadcn/UIç»„ä»¶ä¿æŒUIä¸€è‡´æ€§

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

<div align="center">
  Made with â¤ï¸ by ProShot Team
</div>
